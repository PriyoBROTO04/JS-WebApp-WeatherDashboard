(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const P=document.querySelector(".darkLightBtn"),M=document.querySelector("#darkbtnSrc"),L=document.querySelector("body"),E=document.querySelector(".mainwrapper"),x=document.querySelector(".loaderwrapper");P.addEventListener("click",()=>{L.classList.toggle("dark"),M.classList.toggle("fa-moon"),M.classList.toggle("fa-sun")});const S=["January","February","March","April","May","June","July","August","September","October","November","December"],$=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],I=document.querySelectorAll(".searchbtn"),d=document.querySelectorAll(".search");document.querySelectorAll(".searchbox");const l=document.querySelector(".suggestions_sm"),a=document.querySelector(".suggestions_lg"),C=document.querySelector(".sidebarimg"),V=document.querySelector(".temp"),G=document.querySelector(".city"),O=document.querySelector(".time"),_=document.querySelectorAll(".month"),F=document.querySelectorAll(".fullDate"),W=document.querySelector(".weather"),N=document.querySelector(".weatherIcon"),J=document.querySelector(".riseTime"),K=document.querySelector(".setTime"),X=document.querySelector(".risetimeToGo"),R=document.querySelector(".settimeToGo"),H=document.querySelector(".windSpeedValue"),w=document.querySelector(".forecast"),q=document.querySelector(".forecastMobile"),U=document.querySelector(".precipValue"),Z=document.querySelector(".pressureValue"),B=document.querySelector(".uvIndexValue"),f=[...document.querySelectorAll(".percentData")],g=[...document.querySelectorAll(".rainvisualpercent")],h=[...document.querySelectorAll(".timeline")];let Y=document.querySelector(".country"),u=0,T="";function z(){L.classList.remove("overflow-hidden"),E.classList.remove("opacity-0"),x.classList.add("hidden")}function y(){L.classList.add("overflow-hidden"),E.classList.add("opacity-0"),x.classList.remove("hidden")}y();function A(){let e=new Date;u=e.getHours();let o=e.getDate(),t=e.getMonth(),s=e.getFullYear(),n=e.getDay(),r=u>=12?"pm":"am",i=u%12||12,c=e.getMinutes();i<10&&(i="0"+i),c<10&&(c="0"+c),O.innerHTML=i+":"+c+" "+r,_.forEach(p=>{p.innerHTML=S[t]+", "+s}),F.forEach(p=>{p.innerHTML=$[n]+", "+S[t].substring(0,3)+" "+o+", "+s})}A();setInterval(A,1e3);function Q(){fetch("https://geolocation-db.com/json/67273a00-5c4b-11ed-9204-d161c2da74ce",{method:"GET"}).then(e=>e.json()).then(e=>{T=e.city,console.log(T),m(T)})}Q();function m(e){let o=0,t="";const s={method:"GET"};fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}?unitGroup=uk&key=PFZ4CD8Z8TVXTT6WK47LU6TU9&contentType=json`,s).then(n=>n.json()).then(n=>{console.log(n);let r=n.currentConditions;V.innerHTML=r.temp+"°C",G.innerHTML=n.address,t=n.resolvedAddress,console.log(t),o=t.indexOf(","),Y.innerHTML=t.substring(o+1),W.innerHTML=r.conditions,C.src=ee(r.icon),N.src=b(r.icon),J.innerHTML=D(r.sunrise),K.innerHTML=D(r.sunset),X.innerHTML=j(r.sunrise),R.innerHTML=j(r.sunset),H.innerHTML=r.windspeed+" km/hr",U.innerHTML=n.days[0].hours[u].precipprob+"%",Z.innerHTML=r.pressure+" hpa",B.innerHTML=r.uvindex,console.log(H.innerHTML),ne(n.days[0].hours,n.days[1].hours),re(n.days),se(n.days),setTimeout(z,500)}).catch(n=>console.error(n))}function D(e){let o=e.split(":")[0]>=12?"PM":"AM",t=e.split(":")[0]%12||12,s=e.split(":")[1];return`${t}:${s} ${o}`}function j(e){let o=e.split(":")[0],t;return u>o?(t=u-o,`${t} hours ago`):(t=o-u,`in ${t} hours`)}function ee(e){return e==="partly-cloudy-day"?"/assests/images/day_cloudy.jpg":e==="partly-cloudy-night"?"/assests/images/night_cloudy.jpg":e==="rain"?"/assests/images/rain.jpg":e==="clear-night"?"/assests/images/night_clear.jpg":e==="clear-day"?"/assests/images/day_clear.jpg":e==="wind"?"/assests/images/wind.jpg":e==="fog"?"/assests/images/fog.jpg":e==="snow"?"/assests/images/snow.jpg":"/assests/images/cloudy.jpg"}function b(e){return e==="partly-cloudy-day"?"/assests/icons/day-cloudy.png":e==="partly-cloudy-night"?"/assests/icons/night-cloudy.png":e==="rain"?"/assests/icons/rain.png":e==="clear-night"?"/assests/icons/night-clear.png":e==="clear-day"?"/assests/icons/day-clear.png":e==="wind"?"/assests/icons/wind.png":e==="fog"?"/assests/icons/fog.png":e==="snow"?"/assests/icons/snow.png":"/assests/icons/cloudy.png"}function te(e){return e==="rain"?"rainy":e==="clear-day"?"sunny":e==="wind"?"windy":e==="fog"?"foggy":e==="snow"?"snowy":"cloudy"}function ne(e,o){let t,s,n,r;for(t=0;t<24;t++)if(e[t].datetime.split(":")[0]==u){s=t;break}if(s>20){for(t=s,n=0;n<24-s;t++,n++)f[n].innerHTML=e[t].precipprob+"%",h[n].innerHTML=(t%12||12)+" PM",g[n].style.width=`${e[t].precipprob}%`;for(t=0,n=n;n<4;t++,n++)f[n].innerHTML=o[t].precipprob+"%",h[n].innerHTML=(t%12||12)+" AM",g[n].style.width=`${o[t].precipprob}%`}else for(t=0,n=s;n<s+4;t++,n++)f[t].innerHTML=e[n].precipprob+"%",r=n>=12?"PM":"AM",h[t].innerHTML=(n%12||12)+" "+r,g[t].style.width=`${e[n].precipprob}%`}function k(e){let t=new Date(e).getDay();return $[t].substring(0,3)}function re(e){w.innerHTML="",new Date().getDay();for(let t=0;t<8;t++){let s=document.createElement("div");s.innerHTML=`<div class="flex flex-col bg-neutral-200 dark:bg-[#081d33] justify-center items-center  transition-colors duration-500 p-7 rounded-lg mb-5">
            <div class="forecastIcon"><img src=${b(e[t].icon)} alt=""></div>
            <div class="day dark:text-neutral-200 text-3xl font-semibold transition-colors duration-500 ">${k(e[t].datetime)}</div>
            <div class="dayTemp dark:text-neutral-200 text-xl  transition-colors duration-500 ">${e[t].temp}°C</div>
        </div>`,w.appendChild(s)}}function se(e){q.innerHTML="",new Date().getDay();for(let t=0;t<8;t++){let s=document.createElement("div");s.innerHTML=`<div class="flex justify-between items-center py-2">
                <div>
                        ${k(e[t].datetime)}
                </div>
                <div class="flex justify-center items-center gap-3">
                <div class="w-8" >
                        <img src="${b(e[t].icon)}" alt=""></div>
                        <div>${te(e[t].icon)}</div>
                </div>
                <div>${e[t].temp}°C</div>
        </div>`,q.appendChild(s)}}function oe(e){const o={method:"GET",headers:{"X-RapidAPI-Key":"18cf09eba4msh8bc750c785aa624p154b4ejsn9c81c83b48c3","X-RapidAPI-Host":"wft-geo-db.p.rapidapi.com"}};fetch(`https://wft-geo-db.p.rapidapi.com/v1/geo/cities?namePrefix=${e}`,o).then(t=>t.json()).then(t=>{console.log(t),t.data.length==0||!e?(l.style.display="none",a.style.display="none"):(l.style.display="block",a.style.display="block"),l.innerHTML="",a.innerHTML="";for(let s=0;s<t.data.length;s++){let n=document.createElement("li"),r=document.createElement("li");n.innerHTML=`<li
                class="px-4 py-1 text-[#62b3ff] cursor-pointer hover:bg-[#051220] transition-colors duration-100">
                ${t.data[s].city}</li>`,r.innerHTML=`<li
                class="px-4 py-1 text-[#62b3ff] cursor-pointer hover:bg-[#051220] transition-colors duration-100">
                ${t.data[s].city}</li>`,l.insertAdjacentElement("afterbegin",r),a.insertAdjacentElement("afterbegin",n),n.addEventListener("click",i=>{d.forEach(c=>{c.value=i.target.innerHTML.trim(),m(c.value)}),a.style.display="none",y()}),r.addEventListener("click",i=>{d.forEach(c=>{c.value=i.target.innerHTML.trim(),m(c.value)}),l.style.display="none",y()})}}).catch(t=>{console.error(t),l.style.display="none",a.style.display="none"})}let v=!0;d.forEach(e=>{e.addEventListener("input",()=>{if(!e.value)return l.innerHTML="",l.style.display="none",a.innerHTML="",a.style.display="none",!1;e.value&&(console.log(e.value),v===!0&&(oe(e.value),v=!1,setTimeout(()=>{v=!0},1500)))})});I.forEach(e=>{e.addEventListener("click",()=>{let o=d.value;o&&(m(o),y())})});
