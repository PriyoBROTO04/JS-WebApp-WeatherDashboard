(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const I=document.querySelector(".darkLightBtn"),C=document.querySelector(".continue"),D=document.querySelector(".onboarding"),S=document.querySelector("#darkbtnSrc"),u=document.querySelector("body"),y=document.querySelector(".mainwrapper"),p=document.querySelector(".loaderwrapper");I.addEventListener("click",()=>{u.classList.toggle("dark"),S.classList.toggle("fa-moon"),S.classList.toggle("fa-sun")});C.addEventListener("click",()=>{u.classList.remove("overflow-hidden"),D.classList.add("hidden"),y.classList.remove("pointer-events-none")});function V(){localStorage.getItem("visited")?(u.classList.remove("overflow-hidden"),y.classList.remove("pointer-events-none")):(u.classList.add("overflow-hidden"),D.classList.remove("hidden"),y.classList.add("pointer-events-none"),localStorage.setItem("visited",!0))}const w=["January","February","March","April","May","June","July","August","September","October","November","December"],j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A=document.querySelectorAll(".searchbtn"),m=document.querySelectorAll(".search");document.querySelectorAll(".searchbox");const l=document.querySelector(".suggestions_sm"),c=document.querySelector(".suggestions_lg"),O=document.querySelector(".sidebarimg"),G=document.querySelector(".temp"),_=document.querySelector(".city"),F=document.querySelector(".time"),W=document.querySelectorAll(".month"),N=document.querySelectorAll(".fullDate"),J=document.querySelector(".weather"),K=document.querySelector(".weatherIcon"),X=document.querySelector(".riseTime"),R=document.querySelector(".setTime"),U=document.querySelector(".risetimeToGo"),Y=document.querySelector(".settimeToGo"),H=[...document.querySelectorAll(".windSpeedValue")],q=document.querySelector(".forecast"),E=document.querySelector(".forecastMobile"),Z=[...document.querySelectorAll(".precipValue")],B=[...document.querySelectorAll(".pressureValue")],z=[...document.querySelectorAll(".uvIndexValue")],v=[...document.querySelectorAll(".percentData")],L=[...document.querySelectorAll(".rainvisualpercent")],T=[...document.querySelectorAll(".timeline")];let Q=document.querySelector(".country"),d=0;u.addEventListener("click",e=>{e.target.classList.contains("search")||(e.target!=c||e.target!=l)&&(l.style.display="none",c.style.display="none")});function ee(){u.classList.remove("overflow-hidden"),y.classList.remove("opacity-0"),p.classList.add("hidden"),V()}function f(){u.classList.add("overflow-hidden"),y.classList.add("opacity-0"),p.classList.remove("hidden")}f();function $(){let e=new Date;d=e.getHours();let s=e.getDate(),t=e.getMonth(),o=e.getFullYear(),n=e.getDay(),r=d>=12?"pm":"am",i=d%12||12,a=e.getMinutes();i<10&&(i="0"+i),a<10&&(a="0"+a),F.innerHTML=i+":"+a+" "+r,W.forEach(h=>{h.innerHTML=w[t]+", "+o}),N.forEach(h=>{h.innerHTML=j[n]+", "+w[t].substring(0,3)+" "+s+", "+o})}$();setInterval($,1e3);function te(){navigator.geolocation.getCurrentPosition(e=>{const s=e.coords.latitude,t=e.coords.longitude;fetch(`https://api.opencagedata.com/geocode/v1/json?q=${s}+${t}&key=0c18febae33248b1b9bec38f8a50c468`).then(o=>o.json()).then(o=>{g(o.results[0].components.county)})},e=>{p.innerHTML="";const s=document.createElement("div");s.classList.add("text-neutral-300","text-2xl"),e.code==1?s.innerHTML="You denied the request!":e.code==2?s.innerHTML="Location not available":s.innerHTML="Something went wrong",p.appendChild(s)})}te();function g(e){let s=0,t="";const o={method:"GET"};fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}?unitGroup=uk&key=PFZ4CD8Z8TVXTT6WK47LU6TU9&contentType=json`,o).then(n=>n.json()).then(n=>{console.log(n);let r=n.currentConditions;G.innerHTML=r.temp+"°C",_.innerHTML=n.address,t=n.resolvedAddress,console.log(t),s=t.indexOf(","),Q.innerHTML=t.substring(s+1),J.innerHTML=r.conditions,O.src=ne(r.icon),K.src=M(r.icon),X.innerHTML=k(r.sunrise),R.innerHTML=k(r.sunset),U.innerHTML=x(r.sunrise),Y.innerHTML=x(r.sunset);for(let i=0;i<2;i++)H[i].innerHTML=r.windspeed+" km/hr",Z[i].innerHTML=n.days[0].hours[d].precipprob+"%",B[i].innerHTML=r.pressure+" hpa",z[i].innerHTML=r.uvindex;console.log(H.innerHTML),re(n.days[0].hours,n.days[1].hours),oe(n.days),ie(n.days),setTimeout(ee,500)}).catch(n=>console.error(n))}function k(e){let s=e.split(":")[0]>=12?"PM":"AM",t=e.split(":")[0]%12||12,o=e.split(":")[1];return`${t}:${o} ${s}`}function x(e){let s=e.split(":")[0],t;return d>s?(t=d-s,`${t} hours ago`):(t=s-d,`in ${t} hours`)}function ne(e){return e==="partly-cloudy-day"?"./assests/images/day_cloudy.jpg":e==="partly-cloudy-night"?"./assests/images/night_cloudy.jpg":e==="rain"?"./assests/images/rain.jpg":e==="clear-night"?"./assests/images/night_clear.jpg":e==="clear-day"?"./assests/images/day_clear.jpg":e==="wind"?"./assests/images/wind.jpg":e==="fog"?"./assests/images/fog.jpg":e==="snow"?"./assests/images/snow.jpg":"./assests/images/cloudy.jpg"}function M(e){return e==="partly-cloudy-day"?"./assests/icons/day-cloudy.png":e==="partly-cloudy-night"?"./assests/icons/night-cloudy.png":e==="rain"?"./assests/icons/rain.png":e==="clear-night"?"./assests/icons/night-clear.png":e==="clear-day"?"./assests/icons/day-clear.png":e==="wind"?"./assests/icons/wind.png":e==="fog"?"./assests/icons/fog.png":e==="snow"?"./assests/icons/snow.png":"./assests/icons/cloudy.png"}function se(e){return e==="rain"?"rainy":e==="clear-day"?"sunny":e==="wind"?"windy":e==="fog"?"foggy":e==="snow"?"snowy":"cloudy"}function re(e,s){let t,o,n,r;for(t=0;t<24;t++)if(e[t].datetime.split(":")[0]==d){o=t;break}if(o>20){for(t=o,n=0;n<24-o;t++,n++)v[n].innerHTML=e[t].precipprob+"%",T[n].innerHTML=(t%12||12)+" PM",L[n].style.width=`${e[t].precipprob}%`;for(t=0,n=n;n<4;t++,n++)v[n].innerHTML=s[t].precipprob+"%",T[n].innerHTML=(t%12||12)+" AM",L[n].style.width=`${s[t].precipprob}%`}else for(t=0,n=o;n<o+4;t++,n++)v[t].innerHTML=e[n].precipprob+"%",r=n>=12?"PM":"AM",T[t].innerHTML=(n%12||12)+" "+r,L[t].style.width=`${e[n].precipprob}%`}function P(e){let t=new Date(e).getDay();return j[t].substring(0,3)}function oe(e){q.innerHTML="",new Date().getDay();for(let t=0;t<8;t++){let o=document.createElement("div");o.innerHTML=`<div class="flex flex-col bg-neutral-200 dark:bg-[#081d33] justify-center items-center  transition-colors duration-500 p-7 rounded-lg mb-5">
            <div class="forecastIcon"><img src=${M(e[t].icon)} alt=""></div>
            <div class="day dark:text-neutral-200 text-3xl font-semibold transition-colors duration-500 ">${P(e[t].datetime)}</div>
            <div class="dayTemp dark:text-neutral-200 text-xl  transition-colors duration-500 ">${e[t].temp}°C</div>
        </div>`,q.appendChild(o)}}function ie(e){E.innerHTML="",new Date().getDay();for(let t=0;t<8;t++){let o=document.createElement("div");o.innerHTML=`<div class="flex justify-between items-center py-2">
                <div>
                        ${P(e[t].datetime)}
                </div>
                <div class="flex justify-center items-center gap-3">
                <div class="w-8" >
                        <img src="${M(e[t].icon)}" alt=""></div>
                        <div>${se(e[t].icon)}</div>
                </div>
                <div>${e[t].temp}°C</div>
        </div>`,E.appendChild(o)}}function le(e){const s={method:"GET",headers:{"X-RapidAPI-Key":"18cf09eba4msh8bc750c785aa624p154b4ejsn9c81c83b48c3","X-RapidAPI-Host":"wft-geo-db.p.rapidapi.com"}};fetch(`https://wft-geo-db.p.rapidapi.com/v1/geo/cities?namePrefix=${e}`,s).then(t=>t.json()).then(t=>{console.log(t),t.data.length==0||!e?(l.style.display="none",c.style.display="none"):(l.style.display="block",c.style.display="block"),l.innerHTML="",c.innerHTML="";for(let o=0;o<t.data.length;o++){let n=document.createElement("li"),r=document.createElement("li");n.innerHTML=`<li
                class="px-4 py-1 text-[#62b3ff] cursor-pointer hover:bg-neutral-300 dark:hover:bg-[#051220] transition-colors duration-100">
                ${t.data[o].city}</li>`,r.innerHTML=`<li
                class="px-4 py-1 text-[#62b3ff] cursor-pointer hover:bg-neutral-300 dark:hover:bg-[#051220] transition-colors duration-100">
                ${t.data[o].city}</li>`,l.insertAdjacentElement("afterbegin",r),c.insertAdjacentElement("afterbegin",n),n.addEventListener("click",i=>{m.forEach(a=>{a.value=i.target.innerHTML.trim(),g(a.value)}),c.style.display="none",f()}),r.addEventListener("click",i=>{m.forEach(a=>{a.value=i.target.innerHTML.trim(),g(a.value)}),l.style.display="none",f()})}}).catch(t=>{console.error(t),l.style.display="none",c.style.display="none"})}let b=!0;m.forEach(e=>{e.addEventListener("input",()=>{if(!e.value)return l.innerHTML="",l.style.display="none",c.innerHTML="",c.style.display="none",!1;e.value&&(console.log(e.value),b===!0&&(le(e.value),b=!1,setTimeout(()=>{b=!0},1500)))})});m.forEach(e=>{e.addEventListener("keypress",s=>{s.key==="Enter"&&A.forEach(t=>{t.click()})})});A.forEach(e=>{e.addEventListener("click",()=>{c.style.display="none",l.style.display="none",m.forEach(s=>{let t=s.value;t&&(g(t),f())})})});
